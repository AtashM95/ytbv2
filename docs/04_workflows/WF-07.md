# WF-07 — Render Orchestration

## Purpose
Scene asset-lər və voiceover əsasında render prosesi başladılır və izlənir.

## Inputs
- Run Contract (`scene_assets`, `voiceover_url_signed`, `manifest.production.render`)
- WF-10 Get Config output (render endpoint credentials)

## Outputs
- Run Contract `render_id`
- Manifest `status.checks.render_ready = true` (render tamamlandıqda)
- Manifest `status.phase = rendering` və sonra `render_ready`

## Nodes plan
1. **Trigger: Event from WF-06** — asset-lər hazırdır.
2. **Node: Get Config (WF-10)** — render endpoint.
3. **Node: Build Render Payload** — scene plan və audio.
4. **Node: Submit Render Job** — render API çağırışı.
5. **Node: Poll Render Status** — status izlənir.
6. **Node: Store Render Result** — final video storage.
7. **Node: Update Run** — `render_id` yazılır.
8. **Node: Persist Run Update** — run yenilənir.
9. **Node: Emit Event** — WF-08 üçün event.

## Error handling
- Render submit fail → retry (2 dəfə), sonra `render_submit_failed`.
- Poll timeout → `render_timeout` və manual alert.
- Render result missing → `render_result_missing`.

## Test cases
1. Render job yaradılır və `render_id` dolur.
2. Poll timeout olduqda error status qaytarılır.
3. Render result yoxdursa error qaytarılır.
