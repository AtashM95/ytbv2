# WF-06 — Scene Asset Build

## Purpose
Scene asset-lər hazırlanır və timeline qurulur.

## Inputs
- Run Contract
- Asset sources (image/video)
- WF-10 `resolved_config`

## Outputs
- Run Contract yenilənmiş manifest
- `scene_assets`

## Manifest update
- `assets.scene_plan` və `assets.items` yenilənir.
- `scene_assets` list-i run contract səviyyəsində yazılır.
- `timestamps.phase = assets_ready` və `timestamps.updated_at` yenilənir.
- `audit.change_log`-a “assets prepared” yazılır.

## Error handling
- Asset download fail → retry (3 dəfə), sonra `asset_download_failed`.
- Checksum mismatch → `asset_integrity_failed`.
- Timeline build fail → `timeline_build_failed`.
- Xəta baş verərsə `FAILED_WF_06`, `timestamps.phase = failed_wf_06` və audit qeyd yazılır.

## Test cases
1. Asset-lər yüklənir və `scene_assets` dolur.
2. Checksum mismatch olduqda error qaytarılır.
3. Timeline build fail simulyasiyası error verir.
