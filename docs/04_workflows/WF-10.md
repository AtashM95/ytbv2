# WF-10 — Get Config

## Purpose
Config DB/Data Table-dan konfiqurasiyanı oxuyur, resolve edir və bütün workflow-lara eyni formatda verir.

## Inputs
- `environment` parametri (`test`, `production`)

## Outputs
- Vahid config output (`environment`, `resolved_config`, `resolved_at`, `schema_version`)
- `storage_validation` (provider, is_valid, errors)

## Nodes plan
1. **Trigger: HTTP Request or Internal Call** — config sorğusu.
2. **Node: Query Config DB** — `yt_studio_config` entries.
3. **Node: Normalize Settings** — key-ləri nested strukturda birləşdirir.
4. **Node: Attach Credential Refs** — secrets yalnız `credential_ref` kimi.
5. **Node: Validate Storage** — provider-specific yoxlamalar.
6. **Node: Respond Output** — standart JSON qaytarılır.

## Error handling
- Config DB unreachable → `config_unavailable` statusu.
- Storage config invalid (production) → `FAILED_CONFIG_STORAGE`.
- Invalid environment → `invalid_environment` statusu.

## Test cases
1. `production` üçün config qaytarılır və `schema_version` mövcuddur.
2. Storage config əskikdirsə `FAILED_CONFIG_STORAGE` qaytarılır.
3. Test modda storage config əskikdirsə warning ilə davam edir.
