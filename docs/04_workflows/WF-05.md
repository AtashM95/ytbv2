# WF-05 — Voiceover Generation

## Purpose
Təsdiqlənmiş script əsasında voiceover yaradılır və signed URL hazırlanır.

## Inputs
- Run Contract
- WF-10 `resolved_config` (tts credentials)

## Outputs
- Run Contract yenilənmiş manifest
- `voiceover_url_signed`

## Manifest update
- `assets.voiceover` və `assets.voiceover.voiceover_url_signed` yenilənir.
- `timestamps.phase = voiceover_ready` və `timestamps.updated_at` yenilənir.
- `audit.change_log`-a “voiceover generated” yazılır.

## Error handling
- TTS provider error → retry (2 dəfə), sonra `tts_failed`.
- Storage upload fail → retry (3 dəfə), sonra `storage_failed`.
- URL signing fail → `signing_failed`.
- Xəta baş verərsə `FAILED_WF_05`, `timestamps.phase = failed_wf_05` və audit qeyd yazılır.

## Test cases
1. Voiceover yaradılır və `voiceover_url_signed` dolur.
2. TTS fail simulyasiyası retry siyasətini göstərir.
3. Storage fail simulyasiyası error statusu yaradır.
