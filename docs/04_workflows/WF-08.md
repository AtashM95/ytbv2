# WF-08 — YouTube Publish

## Purpose
Render nəticəsi YouTube-a yüklənir və video nəşr edilir.

## Inputs
- Run Contract (`render_id`, `manifest.publication`)
- Rendered video URL/path
- WF-10 Get Config output (YouTube credentials)

## Outputs
- Run Contract `youtube_video_id`
- Manifest `status.checks.published = true`
- Manifest `status.phase = published`

## Nodes plan
1. **Trigger: Event from WF-07** — render hazırdır.
2. **Node: Get Config (WF-10)** — YouTube credentials.
3. **Node: Validate Publication Data** — title, description, tags.
4. **Node: Upload Video** — YouTube API upload.
5. **Node: Set Metadata** — title, description, tags, privacy.
6. **Node: Store YouTube ID** — `youtube_video_id` yazılır.
7. **Node: Persist Run Update** — run yenilənir.

## Error handling
- Upload fail → retry (2 dəfə), sonra `upload_failed`.
- Metadata validation fail → `metadata_invalid`.
- YouTube API rate limit → `rate_limited` və backoff.

## Test cases
1. Upload uğurlu olduqda `youtube_video_id` dolur.
2. Title boş olduqda validation error verir.
3. Rate limit simulyasiyası backoff qaydasını yoxlayır.
